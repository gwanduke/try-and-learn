# Node.js êµê³¼ì„œ

## 1ì¥. ë…¸ë“œ ì‹œì‘í•˜ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ (íŠ¹ì • ì–¸ì–´ë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í™˜ê²½)

- ì´ë²¤íŠ¸ê¸°ë°˜
- ë…¼ ë¸”ë¡í‚¹ë“œIO
- ì‹±ê¸€ìŠ¤ë ˆë“œ

```plain
------------------------
| Node.js Core Library |
|----------------------|
|    Node.js Bindings  |
|----------------------|
|    V8    |   libuv   |
------------------------
```

> setTimeoutì€ ë¸Œë¼ìš°ì €ì—ì„œ 4ms, ë…¸ë“œì—ì„œ 1ms ì§€ì—°ì´ ìˆë‹¤.

- ë…¸ë“œëŠ” ì‹±ê¸€ìŠ¤ë ˆë“œì´ê¸°ì— CPU ì½”ì–´ë¥¼ í•˜ë‚˜ë§Œ ì‚¬ìš©
- ë¹„ë™ê¸° I/Oì´ê¸° ë•Œë¬¸ì— IOê°€ ë§ì€ ì‘ì—…ì— ìœ ë¦¬, CPUê°€ ë§ì´ ìš”êµ¬ë˜ëŠ” ì‘ì—…ì— ë¶ˆë¦¬

## 2ì¥. ì•Œì•„ë‘ì–´ì•¼í•  ìë°”ìŠ¤í¬ë¦½íŠ¸

- ajax: ë¹„ë™ê¸°ì ìœ¼ë¡œ ì›¹ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê¸° ìœ„í•œ ê¸°ìˆ . í˜ì´ì§€ ì´ë™ì—†ì´ ì„œë²„ì— ìš”ì²­/ì‘ë‹µ

  ```js
  var xhr = new XMLHttpRequest();

  // ë˜ëŠ” xhr.onload, xhr.onerrorë¡œ êµ¬ë¶„ë„ ê°€ëŠ¥í•¨
  xhr.onreadystatechange = function () {
    if (xhr.readyState === xhr.DONE) {
      if (xhr.status / 100 === 2) {
        console.log("ì„±ê³µ");
      } else {
        console.error("ì‹¤íŒ¨");
      }
    }
  };
  xhr.open("GET", "https://example.com/api/test");
  xhr.send();
  ```

- FormData

  ```js
  var formData = new FormData();
  formData.append("name", "gwanduke");

  xhr.open("POST", "http...");
  xhr.send(formData);
  ```

- encodeURIComponent, decodeURIComponent

  ```js
  xhr.open("GET", "https://.../search/" + encodeURIComponent("ê²€ìƒ‰ì–´"));
  xhr.send();

  // decodeURIComponent('%EB%85');
  ```

- data ì†ì„±, dataset

  ```js
  el.dataset.someAttr = "ğŸ”¥";
  // <div id="el" data-some-attr="ğŸ”¥">
  ```

## 3ì¥. ë…¸ë“œ ê¸°ëŠ¥ ì•Œì•„ë³´ê¸°

- ëª¨ë“ˆ: íŠ¹ì •í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë“¤ì˜ ì§‘í•© (ë³´í†µ íŒŒì¼ í•˜ë‚˜ê°€ ëª¨ë“ˆ í•˜ë‚˜)
- console
  - `console.time(ë ˆì´ë¸”)`, `console.timeEnd`
  - `console.log`
  - `console.error`
  - `console.dir(ê°ì²´, ì˜µì…˜)`
  - `console.trace(ë ˆì´ë¸”)`
- íŒŒì¼
  - `__filename`: /Users/gwanduke/filename.js
  - `__dirname`: /Users/gwanduke
- module, exports
  - module.exportsì™€ exportsëŠ” ë™ì¼ ê°ì²´ ì°¸ì¡° (`module.exports` === `exports`)
  - `exports -> module.exports -> {}` í˜•íƒœë¡œ ì°¸ì¡°í•˜ë¯€ë¡œ `exports`ì— ê°’ì„ ë„£ì„ë•Œì—ëŠ” ì°¸ì¡°ê°€ ê¹¨ì§€ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•¨
- process: í˜„ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ ì •ë³´ (.version, .platform, .pid, .uptime() ë“±...)
  - process.env: ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ ì •ë³´
  - process.nextTick(cb): cbê°€ microtaskë¡œ íë¨
  - process.exit(ì½”ë“œ): í˜„ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (ì½”ë“œ - 0 ì •ìƒì¢…ë£Œ, 1 ë¹„ì •ìƒ ì¢…ë£Œ)

### ë‚´ì¥ ëª¨ë“ˆ

- os
- path
  - join, resolveì˜ ì°¨ì´: resolveëŠ” '/'ë¥¼ ë§Œë‚˜ë©´ ì ˆëŒ€ê²½ë¡œë¡œ ì¸ì‹í•´ ì• ê²½ë¡œ ë¬´ì‹œ
- url
  ![URL: ìœ„(lagacy Node), ì•„ë˜(WHATWG)](./url.png)

  ```js
  const url = require("url");

  const URL = url.URL;
  new URL("..."); // WHATWG
  url.parse("..."); // old Node
  ```

- querystring: node urlì„ ì‚¬ìš©í•  ë•Œ search ë¶€ë¶„ ê°ì²´ë¡œ ë³€ê²½ê°€ëŠ¥í•œ ëª¨ë“ˆ
- crypto

  - ë‹¨ë°©í–¥ ì•”í˜¸í™”

    - `crypto.createHash(ì•Œê³ ë¦¬ì¦˜).udpate(ë¬¸ìì—´).digest(ì¸ì½”ë”©)`
    - (`crypto.createHash('sha512').update('ë¹„ë°€ë²ˆí˜¸').digest('hex')` ì‹ìœ¼ë¡œ ì‚¬ìš©)

      ```plain
      ë¹„ë°€ë²ˆí˜¸  -----> í•´ì‹œí•¨ìˆ˜ -----> ë‹¤ì´ì œìŠ¤íŠ¸
              <--X--        <-----
      ```

    - (ë¹„ë°€ë²ˆí˜¸/salt/ë°˜ë³µíšŸìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ëŠ” **pbkdf2**) ë˜ëŠ” **bcrypt**, **scrypt** ë“± ì‚¬ìš©

  - ì–‘ë°©í–¥ ì•”í˜¸í™”
    - `crypto.createCipher(ì•Œê³ ë¦¬ì¦˜, í‚¤)`
    - `crypto.createDecipher(ì•Œê³ ë¦¬ì¦˜, í‚¤)`
    - ë™ì¼ í‚¤ë¥¼ ì´ìš©í•´ ì•”/ë³µí˜¸í™” ê°€ëŠ¥

- util
  - util.deprecate (í•¨ìˆ˜ê°€ deprecated ì²˜ë¦¬ë˜ì—ˆìŒì„ ì•Œë ¤ì£¼ëŠ” í—¬í¼)
  - util.promisify (ì½œë°± íŒ¨í„´ì„ í”„ë¡œë¯¸ìŠ¤ íŒ¨ë„¡ìœ¼ë¡œ ë³€í™˜í•´ì¤Œ)

### íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼

fs ëª¨ë“ˆ (ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë‹¤ìš´ë¡œë“œ/íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ì´ í—ˆìš©ë˜ì§€ ì•ŠìŒ)

- sync í•¨ìˆ˜ë¥¼ ì œê³µí•˜ì§€ë§Œ, ë§ì€ íŒŒì¼ì„ ì²˜ë¦¬í•˜ëŠ” ê²½ìš° ë©”ì¸ìŠ¤ë ˆë“œê°€ I/Oì‘ì—… ì™„ë£Œë¥¼ ê¸°ë‹¤ë ¤ ëŒ€ê¸°í•˜ë¯€ë¡œ ì„±ëŠ¥ì ìœ¼ë¡œ ë¶ˆë¦¬í•¨
- íŒŒì¼ì„ ì½ê³  ì“°ëŠ”ë°ì—ëŠ” ë‹¤ìŒ ë‘ê°€ì§€ ë°©ì‹
  - ë²„í¼: íŒŒì¼ì˜ í¬ê¸°ë§Œí¼ ë²„í¼ê°€ í•„ìš”í•˜ê³ (ë‹¨ì ), ë²„í¼ ì™„ë£Œì‹œ ì´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ
  - ìŠ¤íŠ¸ë¦¼: ë²„í¼ì˜ í¬ê¸°ë¥¼ ì‘ê²Œ ë§Œë“¤ì–´ ì—¬ëŸ¬ë²ˆì— ê±¸ì³ ë³´ë‚´ëŠ” ë°©ì‹ (chunk), `pipe` ì‚¬ìš©ê°€ëŠ¥

### ì´ë²¤íŠ¸ ì´í•´í•˜ê¸°

```js
const EventEmitter = require("events");

const myEvent = new EventEmitter();
myEvent.addListener("event1", () => {
  console.log("ì´ë²¤íŠ¸ 1");
});
myEvent.emit("event1");
```

### ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°

- ì²˜ë¦¬í•˜ì§€ ëª»í•œ ì—ëŸ¬ëŠ” ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë©ˆì¶”ê²Œ í•¨
- `try ~ catch`ë¡œ ì ì ˆíˆ í•´ê²°
- `process.on('uncaughtException')`ìœ¼ë¡œë„ ê°€ëŠ¥í•˜ë‚˜, ë‹¤ìŒ ë™ì‘ì˜ ë³´ì¥ì„ í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ê°€ëŠ¥í•˜ë©´ `process.exit()`ë¡œ ì¢…ë£Œì‹œí‚¤ê³  ì•„ì˜ˆ ì¬ì‹œì‘í•  ê²ƒì„ ê¶Œì¥

## 4ì¥. http ëª¨ë“ˆë¡œ ì›¹ ì„œë²„ ë§Œë“¤ê¸°

- `Set-Cookie` í—¤ë”ë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì„œ ì¿ í‚¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
  - `res.writeHead(200, { 'Set-Cookie': 'mycooie=test' })`
- ì„¸ì…˜ì€ ê¼­ ì¿ í‚¤ë¡œ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ë¨. ì„¸ì…˜ ì •ë³´ëŠ” ë³´í†µ DBì— ì €ì¥ (ë©”ëª¨ë¦¬ ë¶€ì¡± or ì•± ì¢…ë£Œì‹œ ì‚¬ë¼ì§ ì˜ˆë°©)
- https, http2 ëª¨ë“ˆ ì‚¬ìš©ê°€ëŠ¥í•˜ë©° ì¸ì¦ì„œ, ë¹„ë°€í‚¤ íŒŒì¼ì´ ìˆë‹¤ë©´ secure ì ìš© ê°€ëŠ¥

### Cluster

- ì¥ì 
  - cluster ëª¨ë“ˆì€ ì‹±ê¸€ ìŠ¤ë ˆë“œì¸ ë…¸ë“œê°€ CPU ì½”ì–´ë¥¼ ëª¨ë‘ ì‚¬ìš©ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ëª¨ë“ˆ (ì—¬ëŸ¬ ì½”ì–´ë¡œ ìš´ì˜ ê°€ëŠ¥)
  - í¬íŠ¸ë¥¼ ê³µìœ í•˜ëŠ” ë…¸ë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì—¬ëŸ¬ê°œ ë‘˜ ìˆ˜ ìˆìŒ (ìš”ì²­ ë¶„ì‚°)
  - ë§ˆìŠ¤í„°ì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ forkí•˜ëŠ” ì‹ìœ¼ë¡œ ìš´ì˜ë¨
- ë‹¨ì 
  - ì„¸ì…˜ì„ ê³µìœ í•˜ì§€ ëª»í•  ìˆ˜ ìˆìœ¼ë‚˜ -> redis ë“±ìœ¼ë¡œ í•´ê²° ê°€ëŠ¥

ì‹¤ë¬´ì—ì„œëŠ” pm2 ë“±ì˜ ëª¨ë“ˆë¡œ cluster ì²˜ë¦¬

## 5ì¥. íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €

> ë¼ì´ì„¼ìŠ¤ í™•ì¸í•˜ì!

- SemVer (Semantic Versioning): ë°°í¬ì‹œì—ëŠ” ë¬´ì¡°ê±´ ìœ ì˜ë¯¸í•œ ë²„ì „ì„ ì˜¬ë ¤ì£¼ì–´ì•¼í•¨ (ë™ì¼ ë²„ì „ ë°°í¬ X)
  - major: í•˜ìœ„ í˜¸í™˜ X
  - minor: í•˜ìœ„ í˜¸í™˜ O
  - patch: ê¸°ëŠ¥ ì¶”ê°€ê°€ ì•„ë‹ˆë¼, ê¸°ì¡´ ê¸°ëŠ¥ì— ë¬¸ì œê°€ ìˆì–´ ìˆ˜ì • ë²„ì „
  - ê¸°í˜¸
    - `^`: minor ë²„ì „ê¹Œì§€ë§Œ ì„¤ì¹˜/ì—…ë°ì´íŠ¸
    - `~`: patch ë²„ì „ê¹Œì§€ë§Œ ì„¤ì¹˜/ì—…ë°ì´íŠ¸
    - `>`, `<` , `>=`, `<=`, `=`
    - `express@latest`, `express@x`, `express@1.x`
- `npm outdated`: ì—…ë°ì´íŠ¸ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ í™•ì¸
- `npm update [íŒ¨í‚¤ì§€ëª…]`: ìœ„ ëª…ë ¹ ì¡°íšŒì‹œ wantedë¡œ ëª…ì‹œëœ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸
- `npm uninstall [íŒ¨í‚¤ì§€ëª…]`

## 6ì¥. ìµìŠ¤í”„ë ˆìŠ¤ ì›¹ ì„œë²„ ë§Œë“¤ê¸°

- `app.use((req, res, next) => {})`ë¡œ ë¯¸ë“¤ì›¨ì–´ ë“±ë¡ ê°€ëŠ¥
- `next()` í•¨ìˆ˜ì˜ ì¸ìë¡œ "route"ë¥¼ ë„£ìœ¼ë©´ ì£¼ì†Œì™€ ì¼ì¹˜í•˜ëŠ” ë‹¤ìŒ ë¼ìš°í„°ë¡œ ì´ë™(ê·¸ ì‚¬ì´ ë¯¸ë“¤ì›¨ì–´ëŠ” ë¬´ì‹œ). ê·¸ ì™¸ ë‹¤ë¥¸ ê°’ì€ ë¯¸ë“¤ì›¨ì–´/ë¼ìš°í„°ë¥¼ ê±´ë„ˆë›°ê³  ì—ëŸ¬ í•¸ë“¤ëŸ¬ë¡œ ì´ë™ (`next()`, `next('route')`, `next(error)`)
- ìì£¼ ì“°ì´ëŠ” ë¯¸ë“¤ì›¨ì–´
  - `morgan`: ìš”ì²­ì— ëŒ€í•œ ì •ë³´ë¥¼ ì½˜ì†”ì— ê¸°ë¡
  - `winston`: íŒŒì¼/ë°ì´í„°ë² ì´ìŠ¤ ë¡œê·¸
  - `body-parser`(ë‚´ì¥): ìš”ì²­ ë³¸ë¬¸ í•´ì„
  - `cookie-parser`
  - `static`(ë‚´ì¥): ì •ì  íŒŒì¼ ì œê³µ (ë‹¤ìŒ ë¼ìš°í„° ì‹¤í–‰X, íŒŒì¼ ëª»ì°¾ì€ ê²½ìš°ë§Œ ë‹¤ìŒ ë¼ìš°í„° ìˆ˜í–‰. ê°€ëŠ¥í•˜ë©´ ìƒë‹¨ì— ìœ„ì¹˜í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ë°©ì§€ í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ)
  - `express-session`: ì„¸ì…˜ ê´€ë¦¬ìš© ë¯¸ë“¤ì›¨ì–´
  - `connect-flash`: ì¼íšŒì„± ë©”ì‹œì§€ë¥¼ ì›¹ë¸Œë¼ìš°ì €ì— ë‚˜íƒ€ë‚¼ë•Œ ìœ ìš©
- ë¼ìš°í„°ë„ ì¼ì¢…ì˜ ë¯¸ë“¤ì›¨ì–´ì„ (`app.use(ë² ì´ìŠ¤ê²½ë¡œ, someRouter)`, `app.get(...)`, `app.post(...)`)
  - `var router = express.Router()`ë¡œ ìƒì„±. `router.get(...)`ì‹ìœ¼ë¡œ ì¶”ê°€
- ì‘ë‹µê°ì²´ res
  - `res.send`: ë²„í¼ ë°ì´í„°, ë¬¸ìì—´ì „ì†¡, HTML, JSON ë“±..
    - `res.sendFile`
    - `res.json`
  - `res.redirect(ì£¼ì†Œ)`
  - `res.render('í…œí”Œë¦¿íŒŒì¼ê²½ë¡œ', { ë³€ìˆ˜ })`
- ì—ëŸ¬ ë¯¸ë“¤ì›¨ì–´
  - ì—ëŸ¬ ê°ì²´ëŠ” development í™˜ê²½ì—ì„œë§Œ í‘œì‹œë¨ (ë³´ì•ˆìœ„í•¨)

ë¯¸ë“¤ì›¨ì–´ê°€ ë§ìœ¼ë©´ ê·¸ë§Œí¼ ì•±ì´ ëŠë ¤ì§€ë¯€ë¡œ ì„ ë³„ì ìœ¼ë¡œ ì‚¬ìš©

## 7ì¥. MySQL

> ì˜¤ëœë§Œì´ë¼ ë¬¸ë²•ì´ ì•”ê¸°ë˜ì–´ìˆì§€ ì•Šì€ì  ì™¸ì—ëŠ” ì–´ë ¤ì›€ì´ ì—†ì—ˆë‹¤.
>
> SequelizeëŠ” docsë¥¼ ë³´ê³  ê·¸ ë•Œ ê·¸ ë•Œ ì²˜ë¦¬í•˜ë©´ ë˜ê² ë‹¤.

```sql
CREATE SCHEMA nodejs;
use nodejs;
```

```sql
CREATE TABLE nodejs.comments (
  id INT NOT NULL AUTO_INCREMENT,
  commenter INT NOT NULL,
  comment VARCHAR(100) NOT NULL,
  INDEX commenter_idx (commenter ASC),
  CONSTRAINT commenter
  FOREIGN KEY (commenter)
    REFERENCES nodejs.users (id)
    ON DELETE CASCADE
    ON UPDATE CASCADE
)
COMMENT = 'ëŒ“ê¸€'
DEFAULT CHARSET=utf8
ENGINE=InnoDB;
```

```sql
INSERT INTO nodejs.users (name, age) VALUES ('gwanduke', 31);
```

```sql
SELECT *
  FROM nodejs.users
  WHERE age > 30
  ORDER BY age DESC
  LIMIT 1
  OFFSET 1;
```

```sql
UPDATE nodejs.usere SET comment = "í•˜ì´!" WEHRE id = 2;
```

```sql
DELETE FROM nodejs.users WHERE id = 2;
```

## 8ì¥. ëª½ê³ ë””ë¹„

| SQL                     | NoSQL                  |
| ----------------------- | ---------------------- |
| ê·œì¹™ì— ë§ëŠ” ë°ì´í„° ì…ë ¥ | ë°ì´í„° ì…ë ¥ì´ ììœ ë¡œì›€ |
| í…Œì´ë¸”ê°„ JOIN ì§€ì›      | JOIN X                 |
| íŠ¸ëœì­ì…˜ O              | íŠ¸ëœì­ì…˜ X             |
| ì•ˆì •ì„±, ì¼ê´€ì„±          | í™•ì¥ì„±, ê°€ìš©ì„± ì¢‹ìŒ    |
| í…Œì´ë¸”, ë¡œìš°, ì»¬ëŸ¼      | ì»¬ë ‰ì…˜, ë„íë¨¼íŠ¸, í•„ë“œ |

```plain
> use nodejs
> show dbs
> db
> db.createCollection('users')
> show collections
> db.users.save({ ... });
> db.users.find({ _id: 1 })
// { "_id": ObjectId("123") }
> db.comments.save({ commenter: ObjectId("123"), ... })
> db.users.udpate({ name: 'gwanduke' }, { $set: { comment: 'Hello' }})
> db.users.remove({ name: 'gwanduke' })
```

### Mongoose ODM

`mongoose`ëŠ” **ODM**ì´ë¼ ë¶ˆë¦¼

- `populate`ë¥¼ ì´ìš©í•˜ë©´ JOINì„ í‰ë‚´ë‚¼ ìˆ˜ ìˆìŒ
- mongodbì—ëŠ” Schemaê°€ ì—†ìœ¼ë‚˜, mongooseì—ì„œ ì œê³µí•´ í•„í„°ë§ ê°€ëŠ¥

## 9ì¥. ìµìŠ¤í”„ë ˆìŠ¤ë¡œ SNS ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°

```plain
$ sequelize db:create
<!--  -->
```

- ë¦¬ì†ŒìŠ¤ê°„ ê´€ê³„ê°€ ì¤‘ìš”í•œ ê²½ìš° RDBMSê°€ ìœ ë¦¬
- dontenv íŒ¨í‚¤ì§€ + .env ë¡œ ë¹„ë°€í‚¤ ê´€ë¦¬

### Sequelize

- ê° ëª¨ë¸ì„ ì •ì˜í•˜ê³  ê´€ê³„ëŠ” ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ë”°ë¡œ ì •ì˜ ê°€ëŠ¥í•˜ë‹¤.
- ê·¸ëŸ¬ë©´ syncì‹œ ê´€ê³„í…Œì´ë¸”ë„ ìë™ ìƒì„±ëœë‹¤.

### Passport

- ë¡œê·¸ì¸ ê³¼ì •
  1. ë¡œê·¸ì¸ ìš”ì²­
  2. passport.authenticate ë©”ì„œë“œ í˜¸ì¶œ
  3. ë¡œê·¸ì¸ ì „ëµ ìˆ˜í–‰
  4. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì‚¬ìš©ì ì •ë³´ ê°ì²´ì™€ í•¨ê»˜ req.login í˜¸ì¶œ
  5. req.login ë©”ì„œë“œê°€ passport.serializeUser í˜¸ì¶œ
  6. req.sessionì— ì‚¬ìš©ì ì•„ì´ë””ë§Œ ì €ì¥
  7. ë¡œê·¸ì¸ ì™„ë£Œ
- ë¡œê·¸ì¸ ì´í›„
  1. ëª¨ë“  ìš”ì²­ì— passport.session() ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•´ passport.deserializeUser í˜¸ì¶œ
  2. req.sessionì— ì €ì¥ëœ ì•„ì´ë””ë¡œ DBì—ì„œ ì‚¬ìš©ì ì¡°íšŒ
  3. ì¡°íšŒëœ ì‚¬ìš©ì res.userì— ì €ì¥
  4. ì´ í›„ ë¼ìš°í„°ì—ì„œ req.userë¡œ ê°ì²´ ì‚¬ìš© ê°€ëŠ¥
- Strategyë¼ëŠ” ê°œë…ì˜ ë¯¸ë“¤ì›¨ì–´ë¡œ ë¡œê·¸ì¸ ì²˜ë¦¬

### Multer

- MuterëŠ” ë¯¸ë“¤ì›¨ì–´ ì—­í• ì„ í•œë‹¤.
- multipartì¸ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ í¸ë¦¬í•˜ë‹¤.

## 10ì¥. ì›¹ API ì„œë²„ ë§Œë“¤ê¸°

- [ ] í† í° ì¬ë°œê¸‰ê³¼ refresh í† í°

- JWT
  - `í—¤ë”.í˜ì´ë¡œë“œ.ì‹œê·¸ë‹ˆì³` í˜•íƒœ
  - ë¹„ë°€í‚¤ë¥¼ ì´ìš©í•´ ë§Œë“¤ë©° í›„ì— ì´ ë¹„ë°€í‚¤ë¡œ ìœ„ë³€ì¡° ê°ì§€
  - ë³€ì¡° ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë‚´ë¶€ ë°ì´í„°ë¥¼ ì‹ ë¢°í•˜ê³  ì‚¬ìš©
  - í† í°ì—ëŠ” ìœ íš¨ê¸°ê°„ì´ ìˆìœ¼ë©°, ë§Œë£Œì‹œ ê°±ì‹ ì´ í•„ìš”í•¨

## 11ì¥. ì›¹ ì†Œì¼“ìœ¼ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡í•˜ê¸°

- ì›¹ì†Œì¼“
  - HTML5 ìŠ¤í™ì˜ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ ë°ì´í„° ì „ì†¡ ê¸°ìˆ 
  - WS í”„ë¡œí† ì½œ ì‚¬ìš©
- SSE (Server Sent Evnet)
  - EventSource ê°ì²´ ì‚¬ìš©
  - ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ë§Œ ê°€ëŠ¥í•œ ë‹¨ë°©í–¥ ê¸°ìˆ  (ì£¼ì‹ ì°¨íŠ¸ ë“±ì— ìœ ìš©)
- socket.io
  - í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ì œê³µ
  - ì²« ì—°ê²°ì‹œ HTTP í´ë§ë°©ì‹ìœ¼ë¡œ ì—°ê²°í•˜ê³  ì›¹ì†Œì¼“ ì‚¬ìš©ê°€ëŠ¥í•œ ê²½ìš°, ì›¹ì†Œì¼“ ì—…ê·¸ë ˆì´ë“œ

## 12ì¥. ì‹¤ì‹œê°„ ê²½ë§¤ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°
