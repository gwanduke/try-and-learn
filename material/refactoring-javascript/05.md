# 5장

모든 과업의 첫 번째는 기능을 이해하는 것이지 화려함을 쫓는 것이 아니다.

기본 기능의 구성요소라 함은

- 대규모(bulk) (코드 경로와 여러 코드 줄)
- 입력
- 출력 (반환 값)
- 부가 작용 (side effect)
- this: 암시적 입력
- 비공개

## 5.1 대규모 함수

- 복잡성과 라인수를 줄이는 것이 대체적으로 좋은 선택이라 여겨진다. (대규모 함수가 더 좋다고 여겨지는 경우도 물론 있다.)
- if문과 switch는 코드상 분기를 생성하므로 가능한 적은 것이 좋은 선택이라 여겨진다.

## 5.2 입력

- 입력 값이 적을 수록 대량의 코드를 제어하고 테스트하는 것이 쉽다.
- 비지역적 입력이 적을수록 코드를 이해하고 테스트하기 쉽다.
- 명시적 입력을 this나 비지역적 입력보다 신뢰할 수 있다.

## 5.3 출력

- void로 반환되어야하는 함수라도, 변경된 값이나 this를 반환하는 것은 테스트와 디버깅에 도움이 된다.
- 반환형이 any(여러가지 타입)이 되는 경우는 가능한 피하는 것이 좋다. (반환 형식을 확인하는 추가적인 타입 체킹 필요)

## 5.4 부가작용

- 부가작용이 적을 수록 더 좋은 코드라 여겨진다.
- 가능한 부가작용을 존재해야하는 곳에만 존재하도록 격리해야한다. (책임을 분리해 관리해야한다.)

## 5.5 상황 1: 암시적 입력

- this는 암시적 입력이 될 수 있다.
  - 객체 const sample = { ... }
  - const sample = Object.create({...})
  - class A { ... }; const smaple = new A();
  - bind, apply, call을 이용한 명시적인 this 참조 가능
- this를 반환하는 행동은 chaining이 가능하도록해 유연한 인터페이스를 만들 수도 있다.

## 5.6 상황 2: 비공개

- 일부는 비공개 함수가 '세부 구현'이라고 생각해 테스트를 요구하지 않음 (public API, 즉 인터페이스만 테스트하고 세부 구현은 숨김)
- 비공개 함수를 디자인하는 방법
  - IIFE
  - revealing module pattern -> [javascript-playground](https://github.com/letsget23/javascript-playground) 참고
  - 클래스
  - 파일 단위 모듈
- 기본적으로 자바스크립트에는 비공개란 없다. 방식/약속을 통해 극복할 뿐임.

## 5.7 마무리

- 코드의 줄 수와 복잡성을 최대한 낮게 유지하라.
- 총 입력 횟수를 최대한 적게 유지
- 명시적 입력을 선호하라
- 부가작용에 대해서 의미있는 반환값을 주는 것을 선호하라
- 부가작용을 최소화하라
